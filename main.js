(()=>{"use strict";var e,t=function(e,t,n,r,o){var c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),i=c.querySelector(".card__delete-button"),a=c.querySelector(".card__like-button"),s=c.querySelector(".card__image");return c.querySelector(".card__title").textContent=e,s.src=t,s.alt="На фото: ".concat(e),i.addEventListener("click",(function(){return n(c)})),a.addEventListener("click",(function(){return r(a)})),s.addEventListener("click",(function(t){return o(t,e)})),c},n=function(e){e.remove()},r=function(e){e.classList.toggle("card__like-button_is-active")},o=function(t){!function(t){e=t}(t),t.classList.add("popup_is-opened"),t.addEventListener("click",i),document.addEventListener("keydown",a)},c=function(e){e.classList.remove("popup_is-opened"),e.removeEventListener("click",i),document.removeEventListener("keydown",a)},i=function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__close"))&&c(e)},a=function(t){"Escape"===t.key&&c(e)},s=document.querySelector(".places__list"),u=document.querySelector(".profile__title"),d=document.querySelector(".profile__description"),l=document.forms.new_place,p=l.elements.place_name,m=l.elements.link,_=document.querySelector(".profile__edit-button"),f=document.querySelector(".profile__add-button"),v=document.forms.edit_profile,y=v.elements.name,k=v.elements.description,L=document.querySelector(".popup_type_new-card"),q=document.querySelector(".popup_type_edit"),S=document.querySelector(".popup_type_image"),g=document.querySelector(".popup__image"),E=document.querySelector(".popup__caption"),b=function(e,t){g.src=e.target.src,g.alt=e.target.alt,E.textContent=t,o(S)};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){!function(e,t){t.append(e)}(t(e.name,e.link,n,r,b),s)})),_.addEventListener("click",(function(){y.value=u.textContent,k.value=d.textContent,o(q)})),f.addEventListener("click",(function(){o(L)})),v.addEventListener("submit",(function(e){e.preventDefault(),u.textContent=y.value,d.textContent=k.value,c(q)})),l.addEventListener("submit",(function(e){e.preventDefault();var o=t(p.value,m.value,n,r,b);s.prepend(o),l.reset(),c(L)}));var h=function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.classList.add("button_inactive"):t.classList.remove("button_inactive")};Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefaul()})),function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button");h(t,n),t.forEach((function(r){r.addEventLister("input",(function(){!function(e,t){t.validity.patternMismatch?t.setCustomValidity("Поле может содержать только латинские и кириллические буквы, знаки дефиса и пробелы"):t.setCustomValidity(""),t.validity.valid?function(e,t){var n=e.querySelector("".concat(t.id,"-error"));n.textContent="",t.classList.remove("form__input_type_error"),n.classList.remove("form__input-error_active")}(e,t):function(e,t,n){var r=e.querySelector("".concat(t.id,"-error"));r.textContent=n,t.classList.add("form__input_type_error"),r.classList.add("form__input-error_active")}(e,t,t.validationMessage)}(e,r),h(t,n)}))}))}(e)}))})();